<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <link rel="stylesheet" href="bootstrap/bootstrap.min.css">
    <script src="bootstrap/jquery-1.12.4.min.js"></script>
    <script src="bootstrap/bootstrap.min.js"></script>

    <link rel="stylesheet" href="css/index.css">
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/nav_menu.css">


</head>
<div>

<!-- start left menu -->
<div id="left-menu-wrapper" class="nav-menu">
    <div id="left-menu">
        <span id="menu-close-icon"><img src="images/icon/cross_icon.png" alt="X"></span>

        <div class="app-name">
            <span class="wrapper">
                <span class="part1">Word</span>  <span class="part2">Master</span>
            </span>
        </div>

        <div id="menu-items">
            <div class="item-group ">
                <div class="item">
                    <span class="icon"><img src="images/icon/search_icon.png"></span>
                    <span>Search</span>
                </div>
                <div class="item border-bottom-light-gray">
                    <span class="icon"><img src="images/icon/revision_icon.png"></span>
                    <span>Revision</span>
                </div>
            </div>

            <div class="item-group">
                <div class="item ">
                    <span class="icon"><img src="images/icon/settings_icon.png"></span>
                    <span>Settings</span>
                </div>
            </div>

            <div class="item-group talk2dev">
                <div class="item border-bottom-light-gray">
                    <span class="icon"><img src="images/icon/envelope.png"></span>
                    <span>Talk to developer<span class="dot dot-green"></span> </span>
                </div>
            </div>


            <div class="item-group my-gain">
                <div class="item ">
                    <span class="icon"><img src="images/icon/golden_trophy.jpg"></span>
                    <span class="emphasize">My Gain ?</span>
                </div>
            </div>

        </div>

        <div class="bottom-content">
        	<div class="using-version">
                <a href="" target="_blank">version 1</a>
            </div>
        </div>
    </div>
</div>
<div id="menu-icon">
    <span class="dot dot-green"></span>
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
</div>
<!-- end left menu -->




<div class="col-xs-12" style="margin-top: 2em;">
    <div class="col-xs-6 btn btn-primary" id="fetch">Fetch SMS</div>
    <div class="col-xs-6 btn btn-danger" id="delete">Delete All</div> 
    <div class="col-xs-12 btn btn-success" id="broadcast" style="margin-top:1em">Send broadcast</div>

    <div class="col-xs-12 btn btn-success hidden" style="margin-top:1em">
        <div class="col-xs-6 bg-info" id="enableData">Enable data</div>
        <div class="col-xs-6 bg-info" id="disableData">Disable data</div>
    </div>
    
    <div class="col-xs-12" id="log" style="margin-top:1em; border: 1px solid #c3c3c3;">
        Application Log
    </div>    
</div>



<!-- needed to show popup -->
<div class="darken-screen"></div>

<div id="simple-popup">
    <div class="popup-title-bar">
        <span class="title"></span>
        <span class="cross-btn"><img src="images/icon/cross_icon.png" alt=""></span>
    </div>
    <div class="popup-body">

    </div>
</div>



 <div id="bottom-popup">
	<div class="content">
		<div class="col-xs-12 no-padding">
            <span style="color: #26fa01; font-family: 'Helvetica Neue', Sans-Serif; ">New version contains</span>
            
            <ul >
                <li>Enriched example sentences</li>
                <li>Enriched explanation</li>
                <li>New feature</li>
            </ul>
            <span style="color: #0fd0ff">Available at : </span>
            <a href="http://wordmas.com/update" target="_blank" style="color: #2ca5f3; text-decoration: underline">wordmas.com</a>
        </div>
	</div>

    <div class="actions col-xs-12 no-padding text-center">
        <a class="col-xs-6 no-padding positive-btn" href="http://wordmas.com/version" target="_blank" style="font-size: 1.4em">Get New Version</a>
        <div class="col-xs-6 no-padding negative-btn">Use old version</div>
    </div>
</div>




<script src="js/nav_menu.js"></script>
<script type="text/javascript" src="js/common.js"></script>
<script type="text/javascript" src="js/library.js"></script>
<script type="text/javascript" src="js/script.js"></script>

<script>
    $(document).ready(function (){

        //$("#menu-icon").click(); // needed when redesigning and thus testing leftMenu
        //$("#menu-icon").css('right', '10px').css('top', '10px');



        


/* touch implementation start */

        document.addEventListener('touchstart', handleTouchStart, false);        
        document.addEventListener('touchmove', handleTouchMove, false);

        var xDown = null;                                                        
        var yDown = null;

        function getTouches(evt) {
          return evt.touches ||             // browser API
                 evt.originalEvent.touches; // jQuery
        }                                                     

        function handleTouchStart(evt) {
            const firstTouch = getTouches(evt)[0];                                      
            xDown = firstTouch.clientX;                                      
            yDown = firstTouch.clientY;                                      
        };                                                

        function handleTouchMove(evt) {
            if ( ! xDown || ! yDown ) {
                return;
            }

            var xUp = evt.touches[0].clientX;                                    
            var yUp = evt.touches[0].clientY;

            var xDiff = xDown - xUp;
            var yDiff = yDown - yUp;

            var horizontalTolerance = 5;//can start from 0

            if ( Math.abs( xDiff ) > Math.abs( yDiff ) + horizontalTolerance ) {/*most significant*/
                if ( xDiff > 0 ) {
                    /* left swipe */
                    if(window.activeScreen === "leftMenu"){
                        hideLeftMenu();
                    }
                    else if(window.activeScreen === "main"){
                        $("#next-btn").click();
                    }
                }
                else {
                    /* right swipe */
                    if(window.activeScreen === "main"){
                        $("#prev-btn").click();
                    }
                }
            } 
            else {
                if ( yDiff > 0 ) {
                    /* up swipe */ 
                } else { 
                    /* down swipe */
                    if(evt.touches.length == 2){
                    	//two finger swipe
                    	if(window.activeScreen == "main"){
                    		showSearchWindow();
                    	}
                    }
                }                                                                 
            }
            /* reset values */
            xDown = null;
            yDown = null;                                             
        };
/* touch implementation end */





        function isTesting(){
            //return true;

            if( isAndroid = /(Redmi)/i.test(navigator.userAgent) ) {
            	//it's production, as my testing device Redmi
            	p("running on mobile");
            	return false;
            }else{
            	p("running on PC");
            	return true;
            }

        	// if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
        	// 	//this is mobile
        	// 	return false;
        	// }else{
        	// 	//this is PC
        	// 	return true;
        	// }
        }
        

        

        function p(data) {
            console.log(data);
        }




        


        $('.bottom-content .using-version a').attr('href', window.version);




    });

</script>
</body>
</html>